[PnetCDF](https://parallel-netcdf.github.io) Version 1.12.0 Release Notes (September 30, 2019)
------------------------------------------------------------------------------

* New features
  + BP file read capability is supported -- By being built on top of ADIOS
    library PnetCDF can now read files in BP format. Note write capability is
    not supported. This feature is added for convenience purpose, i.e. the
    existing PnetCDF programs can read BP files without change. The read
    performance of BP files is expected no difference from using ADIOS library
    directly. More information can be found in doc/README.ADIOS.md.

* New Limitations
  + Writing to BP files is not supported.

* Update configure options
  + To enable ADIOS BP file support, two new options can be used.
    - `--enable-adios`: enables read capability for BP files
    - `--with-adios=/path/to/adios`: can be used to specify the path to ADIOS
      library installation
    By default, this option is disabled.
  + Option `--with-netcdf4` now allows a form of `--with-netcdf4=INC,LIB` in
    addition to `--with-netcdf4=DIR`. This is in case the include and lib
    folders of NetCDF-4 installation are in different locations.

* New C and Fortran constants
  + NC_BP, NF_BP, and NF90_BP are the flags indicating BP file access mode.
  + NC_FORMAT_BP, NF_FORMAT_BP, and NF90_FORMAT_BP indicate BP file format.

* New error codes
  + NC_EADIOS, NF_EADIOS, NF90_EADIOS - indicate ADIOS library internal
    errors.

* New/updated utility program
  + `cdfdiff` is a new utility program. It is a serial version of `ncmpidiff`
    that is compiled with gcc without PnetCDF library. It can run on the login
    node in a cross-compile environment. `cdfdiff` only compares files in the
    classic NetCDF formats, i.e. CDF-1, CDF-2, and CDF-5.
  + `ncmpidiff` now checks file format versions of two files, and reports
    difference if not the same. Even if formats are different, it continues to
    compare the contents of file headers and values in variables.
  + A new command-line option `-t` is added to utility program `ncmpidiff` to
    compare variable differences within a tolerance. See the man page of
    `ncmpidiff` for usage. Thanks to Carl Ponder for contributing the source
    codes. See [PR #53](https://github.com/Parallel-NetCDF/PnetCDF/pull/53)
  + `ncmpidump` can now dump contents of BP files.

* Other updates:
  + The MPI info object now includes all PnetCDF hints once obtained from a
    call to ncmpi_inq_file_info(). If any hint is not set by the users, its
    default value is set in the info object.

* Bug fixes
  + When calling a nonblocking API with a zero-length request and argument
    request ID being NULL, segmentation fault may occur. See
    [PR #51](https://github.com/Parallel-NetCDF/PnetCDF/pull/51)

* New example programs
  + examples/adios/read_metadata.c - dumps metadata of a BP file.
  + examples/adios/read_var.c - reads a variable from a BP file generated by
    the ADIOS example program examples/C/arrays/arrays_write.
  + examples/adios/read_var_nb.c - reads a variable from a BP file generated
    by the ADIOS example program examples/C/arrays/arrays_write using PnetCDF
    non-blocking APIs.

* New test program
  + test/adios/open.c - tests if PnetCDF recognize BP files.
  + test/adios/header.c - tests if PnetCDF can parse BP header.
  + test/adios/var.c - tests if PnetCDF can read variables from a BP file
  + test/adios/varm.c - tests varm APIS for reading a BP file
  + test/adios/vars.c - tests vars APIs for reading a BP file
  + test/adios/ivar.c - tests nonblocking API for reading a BP file
  + test/adios/ivars.c - tests nonblocking vars APIs for reading a BP file
  + test/adios/ivarm.c - tests nonblocking varm APIs for reading a BP file
  + test/adios/att.c - tests reading attributes from a BP file
  + test/adios/indep.c - tests reading a BP file in independent data mode
  + test/burst_buffer/varn.c -- tests varn APIs when burst buffer driver is
    used. The test includes cases when argument `counts` contains some of the
    elements being NULL.
  + test/nc4/notsupport.c - test if error code NC_ENOTSUPPORT is properly
    returned when calling APIs for unsupported NetCDF-4 feature.
  + test/nc4/tst_rec_vars.c - tests writing and reading record variables from
    NetCDF-4 files
  + test/nc4/rec2 - tests reading a record variables with 2 unlimited
    dimensions from NetCDF-4 files.

* Issues related to MPI library vendors:
  + Per-file thread-safe capability is not supported when using OpenMPI with
    ROMIO backend, i.e. when `--mca io romio321` is used at `mpirun` command
    line. See OpenMPI github issue
    [6951](https://github.com/open-mpi/ompi/issues/6951)

