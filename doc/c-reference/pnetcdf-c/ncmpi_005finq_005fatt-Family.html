<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- 
Copyright (C) 2003 Northwertern University and Argonne National
Laboratory.

Portions of this software were developed by the Unidata Program at the
University Corporation for Atmospheric Research.

Access and use of this software shall impose the following obligations and
understandings on the user. The user is granted the right, without any fee or
cost, to use, copy, modify, alter, enhance and distribute this software, and
any derivative works thereof, and its supporting documentation for any purpose
whatsoever, provided that this entire notice appears in all copies of the
software, derivative works and supporting documentation.  Further, Northwestern
University and Argonne National Laboratory request that the user credit
Northwestern University and Argonne National Laboratory in any publications
that result from the use of this software or in any product that includes this
software.  The names Northwestern University and Argonne National Laboratory,
however, may not be used in any advertising or publicity to endorse or promote
any products or commercial entity unless specific written permission is
obtained from Northwestern University and Argonne National Laboratory. The user
also understands that Northwestern University and Argonne National Laboratory
are not obligated to provide the user with any support, consulting, training or
assistance of any kind with regard to the use, operation and performance of
this software nor to provide the user with any updates, revisions, new versions
or "bug fixes."

THIS SOFTWARE IS PROVIDED BY NORTHWESTERN UNIVERSITY AND ARGONNE NATIONAL
LABORATORY "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL NORTHWESTERN UNIVERSITY
AND ARGONNE NATIONAL LABORATORY BE LIABLE FOR ANY SPECIAL, INDIRECT OR
CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS
ACTION, ARISING OUT OF OR IN CONNECTION WITH THE ACCESS, USE OR PERFORMANCE OF
THIS SOFTWARE.
 -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ncmpi_inq_att Family (PnetCDF C Interface Guide)</title>

<meta name="description" content="ncmpi_inq_att Family (PnetCDF C Interface Guide)">
<meta name="keywords" content="ncmpi_inq_att Family (PnetCDF C Interface Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Combined-Index.html#Combined-Index" rel="index" title="Combined Index">
<link href="Attributes.html#Attributes" rel="up" title="Attributes">
<link href="ncmpi_005fget_005fatt_005f_003ctype_003e.html#ncmpi_005fget_005fatt_005f_003ctype_003e" rel="next" title="ncmpi_get_att_&lt;type&gt;">
<link href="ncmpi_005fput_005fatt_005f_003ctype_003e.html#ncmpi_005fput_005fatt_005f_003ctype_003e" rel="prev" title="ncmpi_put_att_&lt;type&gt;">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="ncmpi_005finq_005fatt-Family"></a>
<div class="header">
<p>
Next: <a href="ncmpi_005fget_005fatt_005f_003ctype_003e.html#ncmpi_005fget_005fatt_005f_003ctype_003e" accesskey="n" rel="next">ncmpi_get_att_<var>&lt;type&gt;</var></a>, Previous: <a href="ncmpi_005fput_005fatt_005f_003ctype_003e.html#ncmpi_005fput_005fatt_005f_003ctype_003e" accesskey="p" rel="prev">ncmpi_put_att_<var>&lt;type&gt;</var></a>, Up: <a href="Attributes.html#Attributes" accesskey="u" rel="up">Attributes</a> &nbsp; [<a href="Combined-Index.html#Combined-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Get-Information-about-an-Attribute_003a-ncmpi_005finq_005fatt-Family"></a>
<h3 class="section">5.3 Get Information about an Attribute: ncmpi_inq_att Family</h3>
<a name="index-ncmpi_005finq_005fatt-Family"></a>
<a name="index-ncmpi_005finq_005fatt"></a>
<a name="index-ncmpi_005finq_005fatttype"></a>
<a name="index-ncmpi_005finq_005fattlen"></a>
<a name="index-ncmpi_005finq_005fattname"></a>
<a name="index-ncmpi_005finq_005fattid"></a>
<a name="index-ncmpi_005finq_005fatt-Family_002c-example"></a>
<a name="index-attributes_002c-ID"></a>
<a name="index-attributes_002c-getting-information-about"></a>
<a name="index-attributes_002c-inquiring-about"></a>
<a name="index-attributes_002c-finding-length"></a>
<a name="index-length-of-attributes"></a>
<a name="index-inquiring-about-attributes"></a>

<p>This family of functions returns information about a netCDF
attribute. All but one of these functions require the variable ID and
attribute name; the exception is ncmpi_inq_attname. Information about an
attribute includes its type, length, name, and number. See the
ncmpi_get_att family for getting attribute values.
</p>
<p>The function ncmpi_inq_attname gets the name of an attribute, given its
variable ID and number. This function is useful in generic
applications that need to get the names of all the attributes
associated with a variable, since attributes are accessed by name
rather than number in all other attribute functions. The number of an
attribute is more volatile than the name, since it can change when
other attributes of the same variable are deleted. This is why an
attribute number is not called an attribute ID.
</p>
<p>The function ncmpi_inq_att returns the attribute&rsquo;s type and length. The
other functions each return just one item of information about an
attribute.
</p>
<a name="Operational-Mode-60"></a>
<h3 class="heading">Operational Mode</h3>
<p>These APIs are independent subroutines.
</p>
<p>These APIs can be called while the file is in either define or data mode (collective or independent).
</p>
<a name="Usage-60"></a>
<h3 class="heading">Usage</h3>
<div class="example">
<pre class="example">int ncmpi_inq_att     (int ncid, int varid, const char *name, nc_type *xtypep,
                       MPI_Offset *lenp);
int ncmpi_inq_atttype (int ncid, int varid, const char *name, nc_type *xtypep);
int ncmpi_inq_attlen  (int ncid, int varid, const char *name,
                       MPI_Offset *lenp);
int ncmpi_inq_attname (int ncid, int varid, int attnum, char *name);
int ncmpi_inq_attid   (int ncid, int varid, const char *name, int *idp);
</pre></div>

<dl compact="compact">
<dt><code>ncid</code>
<a name="index-ncid"></a>
</dt>
<dd><p>NetCDF ID, from a previous call to ncmpi_open or ncmpi_create.
</p>
</dd>
<dt><code>varid</code>
<a name="index-varid"></a>
</dt>
<dd><p>Variable ID of the attribute&rsquo;s variable, or NC_GLOBAL for a global
attribute.
</p>
</dd>
<dt><code>name</code>
<a name="index-name"></a>
</dt>
<dd><p>Attribute name. For ncmpi_inq_attname, this is a pointer to the location
for the returned attribute name.
</p>
</dd>
<dt><code>xtypep</code>
<a name="index-xtypep"></a>
</dt>
<dd><p>Pointer to location for returned attribute type, one of the set of
predefined netCDF external data types. The type of this parameter,
nc_type, is defined in the netCDF header file. The valid netCDF
external data types are NC_BYTE, NC_CHAR, NC_SHORT, NC_INT, NC_FLOAT,
and NC_DOUBLE. If this parameter is given as &rsquo;0&rsquo; (a null pointer), no
type will be returned so no variable to hold the type needs to be
declared.
For CDF-5 file format, the following data types are also supported: NC_UBYTE, NC _USHORT, NC_UINT, NC_INT64, and NC_UINT64.
</p>
</dd>
<dt><code>lenp</code>
<a name="index-lenp"></a>
</dt>
<dd><p>Pointer to location for returned number of values currently stored in
the attribute. For attributes of type NC_CHAR, you should not assume
that this includes a trailing zero byte; it doesn&rsquo;t if the attribute
was stored without a trailing zero byte, for example from a FORTRAN
program. Before using the value as a C string, make sure it is
null-terminated. If this parameter is given as &rsquo;0&rsquo; (a null pointer),
no length will be returned so no variable to hold this information
needs to be declared.
</p>
</dd>
<dt><code>attnum</code>
<a name="index-attnum"></a>
</dt>
<dd><p>For ncmpi_inq_attname, attribute ID. The attributes for each
variable are numbered from 0 (the first attribute) to natts-1, where
natts is the number of attributes for the variable, as returned from a
call to ncmpi_inq_varnatts.
</p>
</dd>
<dt><code>idp</code>
<a name="index-idp"></a>
</dt>
<dd><p>For ncmpi_inq_attid, pointer to location for returned attribute ID
that specifies which attribute this is for this variable (or which
global attribute). If you already know the attribute name, knowing its
ID is not very useful, because accessing information about an
attribute requires its name.
</p>
</dd>
</dl>

<a name="Return-Error-Codes-57"></a>
<h3 class="heading">Return Error Codes</h3>
<p>APIs in this group return the value NC_NOERR if no errors
occurred. Otherwise, the returned status indicates an error. Possible
causes of errors include:
</p><ul>
<li> NC_EBADID: The specified netCDF ID does not refer to an opened netCDF file.
</li><li> NC_ENOTVAR: The input or output variable ID is invalid for the specified netCDF file.
</li><li> NC_ENOTATT: The specified attribute does not exist in ncid.
For ncmpi_inq_attname, the specified attribute number is negative or more
than the number of attributes defined for the specified variable.
</li></ul>

<a name="Example-59"></a>
<h3 class="heading">Example</h3>

<p>Here is an example using ncmpi_inq_att to find out the type and length of
a variable attribute named valid_range for a netCDF variable named rh
and a global attribute named title in an existing netCDF file named
foo.nc:
</p>
<div class="example">
<pre class="example">#include &lt;pnetcdf.h&gt;
   ...
int  status;               /* error status */
int  ncid;                 /* netCDF ID */
int  rh_id;                /* variable ID */
nc_type vr_type, t_type;   /* attribute types */
MPI_Offset vr_len, t_len;  /* attribute lengths */

   ...
status = <a href="ncmpi_005fopen.html#ncmpi_005fopen">ncmpi_open</a>(MPI_COMM_WORLD, &quot;foo.nc&quot;, NC_NOWRITE, MPI_INFO_NULL, &amp;ncid);
if (status != NC_NOERR) handle_error(status);
   ...
status = <a href="ncmpi_005finq_005fvarid.html#ncmpi_005finq_005fvarid">ncmpi_inq_varid</a>(ncid, &quot;rh&quot;, &amp;rh_id);
if (status != NC_NOERR) handle_error(status);
   ...
status = <a href="#ncmpi_005finq_005fatt-Family">ncmpi_inq_att</a>(ncid, rh_id, &quot;valid_range&quot;, &amp;vr_type, &amp;vr_len);
if (status != NC_NOERR) handle_error(status);
status = <a href="#ncmpi_005finq_005fatt-Family">ncmpi_inq_att</a>(ncid, NC_GLOBAL, &quot;title&quot;, &amp;t_type, &amp;t_len);
if (status != NC_NOERR) handle_error(status);
</pre></div>

<a name="Full-example-C-program-18"></a>
<h3 class="heading">Full example C program</h3>
<ul>
<li> <a href="https://github.com/Parallel-NetCDF/PnetCDF/tree/master/examples/C/global_attributes.c">global_attributes.c</a>
</li><li> <a href="https://github.com/Parallel-NetCDF/PnetCDF/tree/master/examples/C/put_vara.c">put_vara.c</a>
</li><li> The above programs are available in all PnetCDF releases under directory examples/C.
</li></ul>

<hr>
<div class="header">
<p>
Next: <a href="ncmpi_005fget_005fatt_005f_003ctype_003e.html#ncmpi_005fget_005fatt_005f_003ctype_003e" accesskey="n" rel="next">ncmpi_get_att_<var>&lt;type&gt;</var></a>, Previous: <a href="ncmpi_005fput_005fatt_005f_003ctype_003e.html#ncmpi_005fput_005fatt_005f_003ctype_003e" accesskey="p" rel="prev">ncmpi_put_att_<var>&lt;type&gt;</var></a>, Up: <a href="Attributes.html#Attributes" accesskey="u" rel="up">Attributes</a> &nbsp; [<a href="Combined-Index.html#Combined-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
